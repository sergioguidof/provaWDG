(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,a,t){e.exports=t.p+"static/media/react.580ffd26.png"},37:function(e,a,t){e.exports=t(77)},63:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){},77:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),s=t(30),c=t.n(s),l=t(17),i=t(10),o=t(3),m=t.n(o),u=t(36),d=t(9),p=t(11),h=t(12),v=t(14),f=t(13),b=t(15),g=t(31),E=t.n(g).a.create({baseURL:"https://reqres.in/api"}),N=(t(63),function(e){function a(){var e,t;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=Object(v.a)(this,(e=Object(f.a)(a)).call.apply(e,[this].concat(r)))).state={users:[],listInfo:{},page:1,isLoading:!0},t.loadUsers=Object(d.a)(m.a.mark(function e(){var a,n,r,s,c,l,i,o=arguments;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>0&&void 0!==o[0]?o[0]:1,"undefined"!=typeof t.props.location.search&&(n=t.props.location.search,r=new URLSearchParams(n),a=r.get("page")),e.next=4,E.get("/users?page=".concat(a,"&delay=2"));case 4:s=e.sent,c=s.data,l=c.data,i=Object(u.a)(c,["data"]),t.setState({users:l,listInfo:i,page:a,isLoading:!1});case 7:case"end":return e.stop()}},e)})),t.prevPage=function(){t.setState({isLoading:!0});var e=t.state.page;if(1!==e){var a=e-1;t.loadUsers(a)}},t.nextPage=function(){t.setState({isLoading:!0});var e=t.state,a=e.page;if(a!==e.listInfo.total_pages){var n=a+1;t.loadUsers(n)}},t}return Object(b.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){this.loadUsers()}},{key:"deleteUser",value:function(){var e=Object(d.a)(m.a.mark(function e(a){return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.setState({isLoading:!0}),!window.confirm("Deseja mesmo excluir esse usu\xe1rio?")){e.next=9;break}return e.next=5,E.delete("/users/".concat(a,"?delay=2")).then(function(e){return e.status});case 5:204==e.sent&&alert("Usu\xe1rio exclu\xeddo com sucesso!"),e.next=10;break;case 9:alert("Exclus\xe3o cancelada.");case 10:this.setState({isLoading:!1});case 11:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state,t=a.users,n=a.page,s=a.listInfo;return a.isLoading?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Usu\xe1rios"),r.a.createElement("div",{className:"text-center align-middle"},r.a.createElement("div",{className:"spinner-border align-middle",role:"status"},r.a.createElement("span",{className:"sr-only align-middle"},"Loading..."))))):r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Usu\xe1rios"),r.a.createElement("div",{className:"users-list"},t.map(function(a){return r.a.createElement("div",{className:"row mt-3",key:a.id},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"media"},r.a.createElement("img",{src:a.avatar,className:"mr-3",alt:a.first_name}),r.a.createElement("div",{className:"media-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-10"},r.a.createElement("h5",{className:"mt-0"},a.first_name),a.last_name),r.a.createElement("div",{className:"col-md-2"},r.a.createElement(l.b,{className:"btn btn-primary text-light mr-2",to:"/users/".concat(a.id)},"Editar"),r.a.createElement("a",{className:"btn btn-danger text-light",onClick:function(){return e.deleteUser(a.id)}},"Excluir")))))))})),r.a.createElement("ul",{className:"pagination justify-content-center"},r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#",onClick:this.prevPage,disabled:1===n},"Anterior")),r.a.createElement("li",{className:"page-item"},r.a.createElement("a",{className:"page-link",href:"#",onClick:this.nextPage,disabled:n===s.total_pages},"Pr\xf3xima")))))}}]),a}(n.Component)),y=t(8),k=function(e){function a(){var e;return Object(p.a)(this,a),(e=Object(v.a)(this,Object(f.a)(a).call(this))).state={user:{},isLoading:!0,sucesso:{}},e.handleSubmit=e.handleSubmit.bind(Object(y.a)(Object(y.a)(e))),e}return Object(b.a)(a,e),Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=Object(d.a)(m.a.mark(function e(){var a,t;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.props.match.params.id,e.next=3,E.get("/users/".concat(a,"?delay=2"));case 3:t=e.sent,this.setState({user:t.data.data,isLoading:!1});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(e){e.preventDefault();var a={first_name:this.first_name.value,last_name:this.last_name.value};this.updateUser(a)}},{key:"updateUser",value:function(){var e=Object(d.a)(m.a.mark(function e(a){var t,n;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.match.params.id,this.setState({isLoading:!0}),e.next=4,E.put("/users/".concat(t,"?delay=2"),{data:a}).then(function(e){return e.data});case 4:n=e.sent,this.setState({isLoading:!1,user:a,sucesso:n}),this.state.sucesso.updatedAt&&alert("Usu\xe1rio Atualizado com sucesso");case 7:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,a=this.state,t=a.user,n=a.isLoading;a.sucesso;return n?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Usu\xe1rios"),r.a.createElement("div",{className:"text-center align-middle"},r.a.createElement("div",{className:"spinner-border align-middle",role:"status"},r.a.createElement("span",{className:"sr-only align-middle"},"Loading..."))))):r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Editar Usu\xe1rio"),r.a.createElement("div",{className:"user-info"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"name"},"Nome"),r.a.createElement("input",{type:"text",className:"form-control",id:"fisrtName",placeholder:"Digite o nome do usu\xe1rio",ref:function(a){return e.first_name=a},defaultValue:t.first_name})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"lastName"},"Sobrenome"),r.a.createElement("input",{type:"text",className:"form-control",id:"lastName",placeholder:"Digite o sobrenome do usu\xe1rio",ref:function(a){return e.last_name=a},defaultValue:t.last_name})),r.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Atualizar")))))}}]),a}(n.Component),w=t(34),x=function(e){function a(e){var t;return Object(p.a)(this,a),(t=Object(v.a)(this,Object(f.a)(a).call(this,e))).state={username:"",password:"",submitted:!1,isLoading:!1,error:""},t.handleChange=t.handleChange.bind(Object(y.a)(Object(y.a)(t))),t.handleSubmit=t.handleSubmit.bind(Object(y.a)(Object(y.a)(t))),t}return Object(b.a)(a,e),Object(h.a)(a,[{key:"handleChange",value:function(e){var a=e.target,t=a.name,n=a.value;this.setState(Object(w.a)({},t,n))}},{key:"handleSubmit",value:function(){var e=Object(d.a)(m.a.mark(function e(a){var t,n,r,s,c,l,i=this;return m.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),this.setState({submitted:!0}),t=this.state,n=t.username,r=t.password,t.returnUrl,n&&r){e.next=5;break}return e.abrupt("return");case 5:return this.setState({isLoading:!0}),e.next=8,E.post("/login?delay=2",{username:n,password:r}).then(function(e){return e.data},function(e){return i.setState({error:e,loading:!1})});case 8:s=e.sent,console.log(s.token),E.defaults.headers.common.Authorization="bearer ".concat(s.key),"undefined"!=typeof s.token&&(c=this.props.location.state||{from:{pathname:"/users"}},l=c.from,console.log(l),this.props.history.push(l));case 12:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,a=e.username,t=e.password,n=e.submitted,s=e.isLoading,c=e.error;return s?r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Usu\xe1rios"),r.a.createElement("div",{className:"text-center align-middle"},r.a.createElement("div",{className:"spinner-border align-middle",role:"status"},r.a.createElement("span",{className:"sr-only align-middle"},"Loading..."))))):r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h5",{className:"card-title"},"Login"),r.a.createElement("form",{name:"form",onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"+(n&&!a?" has-error":"")},r.a.createElement("label",{htmlFor:"username"},"Usu\xe1rio"),r.a.createElement("input",{type:"text",className:"form-control",name:"username",value:a,onChange:this.handleChange}),n&&!a&&r.a.createElement("div",{className:"help-block"},"Digite um usu\xe1rio")),r.a.createElement("div",{className:"form-group"+(n&&!t?" has-error":"")},r.a.createElement("label",{htmlFor:"password"},"Senha"),r.a.createElement("input",{type:"password",className:"form-control",name:"password",value:t,onChange:this.handleChange}),n&&!t&&r.a.createElement("div",{className:"help-block"},"Digite uma senha")),r.a.createElement("div",{className:"form-group"},r.a.createElement("button",{className:"btn btn-primary",disabled:s},"Login")),c&&r.a.createElement("div",{className:"alert alert-danger"},c))))}}]),a}(n.Component),j=function(){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body"},r.a.createElement("h1",{className:"card-title"},"404"),r.a.createElement("h3",null,"P\xe1gina n\xe3o encontrada.")))},O=function(){return r.a.createElement(l.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{exact:!0,path:"/",component:x}),r.a.createElement(i.a,{exact:!0,path:"/login",component:x}),r.a.createElement(i.a,{exact:!0,path:"/users",component:N}),r.a.createElement(i.a,{path:"/users/:id",component:k}),r.a.createElement(i.a,{component:j})))},S=(t(74),t(75),t(35)),L=t.n(S),U=function(){return r.a.createElement("header",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},r.a.createElement("a",{className:"navbar-brand",href:"/users"},r.a.createElement("img",{src:L.a,width:"50"})),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},r.a.createElement("ul",{className:"navbar-nav mr-auto"},r.a.createElement("li",{className:"nav-item active"},r.a.createElement("a",{className:"nav-link",href:"/users"},"Home ",r.a.createElement("span",{className:"sr-only"},"(current)")))))))},C=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(U,null),r.a.createElement("div",{className:"container-fluid"},r.a.createElement(O,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(76);c.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.75dc20eb.chunk.js.map